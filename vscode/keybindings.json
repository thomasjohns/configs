[
    // Keybindings emulating neovim init.vim mappings.
    // These assume the VS Code Vim extension (vscodevim.vim) is installed,
    // which provides vim motions and the <leader> key (Space).
    //
    // Vim-mode bindings use "when" conditions like vim.mode == 'Normal' so
    // they don't interfere with regular VS Code shortcuts.

    // --- Buffer (Editor Tab) Navigation ---
    // gn -> next buffer
    {
        "key": "g n",
        "command": "workbench.action.nextEditor",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // gp -> previous buffer
    {
        "key": "g p",
        "command": "workbench.action.previousEditor",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // gw -> close buffer (switch to previous first, like :bp|bd #)
    {
        "key": "g w",
        "command": "workbench.action.closeActiveEditor",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // ;; -> show all open editors (buffer list)
    {
        "key": "; ;",
        "command": "workbench.action.showAllEditors",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Editor Splitting ---
    // gs -> vertical split
    {
        "key": "g s",
        "command": "workbench.action.splitEditorRight",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // gb -> horizontal split
    {
        "key": "g b",
        "command": "workbench.action.splitEditorDown",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Split Navigation (gj/gk/gl/gh) ---
    {
        "key": "g j",
        "command": "workbench.action.focusBelowGroup",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g k",
        "command": "workbench.action.focusAboveGroup",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g l",
        "command": "workbench.action.focusRightGroup",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g h",
        "command": "workbench.action.focusLeftGroup",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- File Finding ---
    // Ctrl+g -> find all files (fzf :Files)
    {
        "key": "ctrl+g",
        "command": "workbench.action.quickOpen",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Ctrl+p -> find git files (fzf :GFiles, same command in VS Code)
    {
        "key": "ctrl+p",
        "command": "workbench.action.quickOpen",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- File Explorer / Sidebar ---
    // Ctrl+y -> toggle sidebar (NERDTreeToggle)
    {
        "key": "ctrl+y",
        "command": "workbench.action.toggleSidebarVisibility"
    },
    // Ctrl+f -> reveal active file in explorer (CocCommand explorer)
    {
        "key": "ctrl+f",
        "command": "workbench.files.action.showActiveFileInExplorer",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Code Navigation (gd/gy/gi/gr) ---
    {
        "key": "g d",
        "command": "editor.action.revealDefinition",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g y",
        "command": "editor.action.goToTypeDefinition",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g i",
        "command": "editor.action.goToImplementation",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "g r",
        "command": "editor.action.goToReferences",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Hover / Documentation ---
    // K -> show hover (like CoC doHover)
    // Note: vscodevim handles K natively via "vim.normalModeKeyBindings" in
    // settings.json if you prefer. This is the keybindings.json approach.
    {
        "key": "shift+k",
        "command": "editor.action.showHover",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Diagnostics Navigation ---
    // { -> previous diagnostic
    {
        "key": "shift+[",
        "command": "editor.action.marker.prev",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // } -> next diagnostic
    {
        "key": "shift+]",
        "command": "editor.action.marker.next",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Git Hunk Navigation ---
    // ( -> previous git change
    {
        "key": "shift+9",
        "command": "workbench.action.editor.previousChange",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // ) -> next git change
    {
        "key": "shift+0",
        "command": "workbench.action.editor.nextChange",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- Leader Keybindings (Space + ...) ---
    // Space rn -> rename symbol
    {
        "key": "space r n",
        "command": "editor.action.rename",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Space f -> format selection
    {
        "key": "space f",
        "command": "editor.action.formatSelection",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    {
        "key": "space f",
        "command": "editor.action.formatSelection",
        "when": "vim.mode == 'Visual' && editorTextFocus"
    },
    // Space qf -> quick fix
    {
        "key": "space q f",
        "command": "editor.action.quickFix",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Space ac -> code action on current line
    {
        "key": "space a c",
        "command": "editor.action.codeAction",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },

    // --- CoCList Equivalents (Space + single key) ---
    // Space a -> show problems (diagnostics list)
    {
        "key": "space a",
        "command": "workbench.actions.view.problems",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Space o -> document outline / go to symbol in file
    {
        "key": "space o",
        "command": "workbench.action.gotoSymbol",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Space s -> workspace symbols
    {
        "key": "space s",
        "command": "workbench.action.showAllSymbols",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    },
    // Space c -> command palette
    {
        "key": "space c",
        "command": "workbench.action.showCommands",
        "when": "vim.mode == 'Normal' && editorTextFocus"
    }
]
